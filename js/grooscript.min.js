(function(){function isConstructor(name){return name[0]==name[0].toUpperCase()}function applyBaseClassFunctions(item){item.asType=gs.baseClass.asType}function isObjectProperty(name){return["clazz","gSdefaultValue","leftShift","minus","plus","equals","toString","clone","withz","getProperties","getStatic","getMethods","invokeMethod","constructor","asType","withTraits"].indexOf(name)>=0}function expandWithMetaclass(item,objectName){if(void 0!==globalMetaClass&&null!==globalMetaClass[objectName]&&void 0!==globalMetaClass[objectName]){var obj,map=globalMetaClass[objectName];for(obj in map){var staticMap=map.getStatic();if(null!==staticMap&&void 0!==staticMap){var objStatic;for(objStatic in staticMap)"gSparent"!=objStatic&&(item[obj]=staticMap[objStatic])}item[obj]=map[obj]}}return item}function createClassNames(item,items){var i,container,number=items.length;for(i=0;number>i;i++)0===i&&(container={},item.clazz=container),container.name=items[i],container.simpleName=getSimpleName(items[i]),number>i&&(container.superclass={},container=container.superclass)}function getSimpleName(name){for(var pos=name.indexOf(".");pos>=0;)name=name.substring(pos+1),pos=name.indexOf(".");return name}function isMapProperty(name){return isObjectProperty(name)||["any","collect","collectEntries","collectMany","countBy","dropWhile","each","eachWithIndex","every","find","findAll","findResult","findResults","get","getAt","groupBy","inject","intersect","max","min","putAll","putAt","reverseEach","sort","spread","subMap","add","take","takeWhile","withDefault","count","drop","put","size","isEmpty","remove","containsKey","containsValue","values"].indexOf(name)>=0}function GsGroovyMap(){this.clazz={name:"java.util.LinkedHashMap",simpleName:"LinkedHashMap",superclass:{name:"java.util.HashMap",simpleName:"HashMap"}},this.add=function(key,value){if("spreadMap"==key){var ob;for(ob in value)isMapProperty(ob)||(this[ob]=value[ob])}else this[key]=value;return this},this.put=function(key,value){return this.add(key,value)},this.leftShift=function(key,value){return 1==arguments.length?this.plus(arguments[0]):this.add(key,value)},this.putAt=function(key,value){this.put(key,value)},this.size=function(){var ob,number=0;for(ob in this)isMapProperty(ob)||number++;return number},this.isEmpty=function(){return 0===this.size()},this.remove=function(key){this[key]&&delete this[key]},this.each=function(closure){var ob;for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];1==f.length&&closure({key:ob,value:this[ob]}),2==f.length&&closure(ob,this[ob])}},this.count=function(closure){var ob,number=0;for(ob in this)isMapProperty(ob)||(1==closure.length&&closure({key:ob,value:this[ob]})&&number++,2==closure.length&&closure(ob,this[ob])&&number++);return number},this.any=function(closure){var ob;for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];if(1==f.length&&closure({key:ob,value:this[ob]}))return!0;if(2==f.length&&closure(ob,this[ob]))return!0}return!1},this.every=function(closure){var ob;for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];if(1==f.length&&!closure({key:ob,value:this[ob]}))return!1;if(2==f.length&&!closure(ob,this[ob]))return!1}return!0},this.find=function(closure){var ob;for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];if(1==f.length){var entry={key:ob,value:this[ob]};if(closure(entry))return entry}if(2==f.length&&closure(ob,this[ob]))return{key:ob,value:this[ob]}}return null},this.dropWhile=function(closure){var ob,result=gs.map();for(ob in this)if(!isMapProperty(ob)){var entry={key:ob,value:this[ob]},f=arguments[0];1==f.length&&(closure(entry)||result.add(entry.key,entry.value)),2==f.length&&(closure(entry.key,entry.value)||result.add(entry.key,entry.value))}return result},this.drop=function(number){var ob,result=gs.map(),count=0;for(ob in this)isMapProperty(ob)||(count++,count>number&&result.add(ob,this[ob]));return result},this.findAll=function(closure){var ob,result=gs.map();for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];if(1==f.length){var entry={key:ob,value:this[ob]};closure(entry)&&result.add(entry.key,entry.value)}2==f.length&&closure(ob,this[ob])&&result.add(ob,this[ob])}return result.size()>0?result:null},this.collect=function(closure){var ob,result=gs.list([]);for(ob in this)if(!isMapProperty(ob)){var f=arguments[0];1==f.length&&result.add(closure({key:ob,value:this[ob]})),2==f.length&&result.add(closure(ob,this[ob]))}return result.size()>0?result:null},this.containsKey=function(key){return void 0===this[key]||null===this[key]?!1:!0},this.containsValue=function(value){var ob,gotIt=!1;for(ob in this)if(!isMapProperty(ob)&&gs.equals(this[ob],value)){gotIt=!0;break}return gotIt},this.get=function(key,defaultValue){return this.containsKey(key)||(this[key]=defaultValue),this[key]},this.toString=function(){var items="";return this.each(function(key,value){items=items+key+": "+value+" ,"}),"["+items+"]"},this.equals=function(otherMap){var ob,result=!0;for(ob in this)isMapProperty(ob)||gs.equals(this[ob],otherMap[ob])||(result=!1);return result},this.values=function(){var ob,result=gs.list([]);for(ob in this)isMapProperty(ob)||result.add(this[ob]);return result},this.gSdefaultValue=null,this.withDefault=function(closure){return this.gSdefaultValue=closure,this},this.inject=function(initial,closure){var ob;for(ob in this)if(!isMapProperty(ob)){if(2==closure.length){var entry={key:ob,value:this[ob]};initial=closure(initial,entry)}3==closure.length&&(initial=closure(initial,ob,this[ob]))}return initial},this.putAll=function(items){if(items instanceof Array){var i;for(i=0;i<items.length;i++){var item=items[i];this.add(item.key,item.value)}}else{var ob;for(ob in items)isMapProperty(ob)||this.add(ob,items[ob])}return this},this.plus=function(other){var result=this.clone();if(other instanceof Array)result.putAll(other);else{var ob;for(ob in other)isMapProperty(ob)||result.add(ob,other[ob])}return result},this.clone=function(){var ob,result=gs.map();for(ob in this)isMapProperty(ob)||result.add(ob,this[ob]);return result},this.minus=function(other){var ob,result=this.clone();for(ob in other)isMapProperty(ob)||null!==result[ob]&&void 0!==result[ob]&&gs.equals(result[ob],other[ob])&&delete result[ob];return result}}function fillZerosLeft(item,size){for(var value=item+"";value.length<size;)value="0"+value;return value}function lastChars(item,number){var value=item+"";return value=value.substring(value.length-number)}function getItemsMultiline(text){var items=text.split("\n");return items.length>1&&""===items[items.length-1]&&items.splice(items.length-1,1),items}function StaticMethods(item){this.gSparent=item}function interceptClosureCall(func,param){param instanceof Array&&func.length>1?func.apply(func,param):func(param)}function classInfoContainsName(classInfo,name){return classInfo.name==name||classInfo.simpleName==name}function hasFunc(item,name){return null===item||void 0===item||void 0===item[name]||null===item[name]||"function"!=typeof item[name]?!1:!0}function setMethod(item,methodName,value){if(hasFunc(item,methodName))item[methodName](value);else{var nameProperty=methodName.charAt(3).toLowerCase()+methodName.slice(4);item[nameProperty]=value}}function getMethod(item,methodName){if(hasFunc(item,methodName))return item[methodName];var nameProperty=methodName.charAt(3).toLowerCase()+methodName.slice(4),res=function(){return item[nameProperty]};return res}function exFn(we,mn,it,val){return we[mn].apply(it,joinParameters(it,val))}function joinParameters(item,items){var i,listParameters=[item];for(i=0;i<items.size();i++)listParameters[listParameters.length]=items[i];return listParameters}function getProtoypeOfClass(className){return"String"==className?String.prototype:"Number"==className?Number.prototype:"ArrayList"==className?Array.prototype:null}function addFunctionToClassIfPrototyped(name,func,className){var proto=getProtoypeOfClass(className);null!==proto&&void 0===proto[name]&&(proto[name]=func)}function removeFunctionToClass(name,func,className){var proto=getProtoypeOfClass(className);null!==proto&&proto[name]==func&&(proto[name]=null)}function categorySearching(methodName){var i,result=null;for(i=categories.length-1;i>=0&&null===result;i--){var itemClass=categories[i];itemClass[methodName]&&(result=itemClass)}return result}function existAnnotatedCategory(name){return null!==annotatedCategories[name]&&void 0!==annotatedCategories[name]}function mixinSearching(item,methodName){var result=null,className=null;if("string"==typeof item&&(className="String"),"object"==typeof item&&void 0!==item.clazz&&void 0!==item.clazz.simpleName&&(className=item.clazz.simpleName),null!==className){var i,ourMixin=null;for(i=mixins.length-1;i>=0&&null===ourMixin;i--){var data=mixins[i];data.name==className&&(ourMixin=data.items)}if(null!==ourMixin)for(i=0;i<ourMixin.length&&null===result;i++)if(ourMixin[i][methodName])result=ourMixin[i];else{var classItem=ourMixin[i]();if(classItem){var notStatic=classItem[methodName];null!==notStatic&&"function"==typeof notStatic&&(result=classItem)}}}return result}function mixinObjectsSearching(item,methodName){var i,result=null,ourMixin=null;for(i=mixinsObjects.length-1;i>=0&&null===ourMixin;i--){var data=mixinsObjects[i];data.item==item&&(ourMixin=data.items)}if(null!==ourMixin)for(i=0;i<ourMixin.length&&null===result;i++)ourMixin[i][methodName]&&(result=ourMixin[i]);return result}var gs=function(obj){return obj instanceof gs?obj:this instanceof gs?void 0:new gs(obj)},root=this;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=gs),exports.gs=gs):root.gs=gs,gs.fails=!1,gs.consoleData="",gs.consoleOutput=!0,gs.consoleInfo=!1;var globalMetaClass={},categories=[],mixins=[],mixinsObjects=[],actualDelegate=null,mapAddDelegate={};gs.myCategories={},gs.assert=function(value){if(value===!1){gs.fails=!0;var message="Assert Fails! - ";2==arguments.length&&null!==arguments[1]&&(message=arguments[1]+" - "),gs.println(message+value)}},gs.println=function(value){gs.consoleOutput&&console?console.log(value):(""!==gs.consoleData&&(gs.consoleData=gs.consoleData+"\n"),gs.consoleData=gs.consoleData+value)},gs.baseClass={withz:function(closure){closure.apply(this,closure.arguments)},getProperties:function(){var ob,result=gs.map();for(ob in this)"function"!=typeof this[ob]&&"clazz"!=ob&&result.add(ob,this[ob]);return result},getMethods:function(){var ob,result=gs.list([]);for(ob in this)if("function"==typeof this[ob]&&!isObjectProperty(ob)&&!isConstructor(ob,this[ob])){var item={name:ob};result.add(item)}return result},invokeMethod:function(name,values){var i,newArgs=[];if(null!==values&&void 0!==values)for(i=0;i<values.length;i++)newArgs[i]=values[i];var f=this[name];return f.apply(this,newArgs)},constructor:function(){return this},asType:function(type){return hasFunc(type,"gSaT")&&type.gSaT(this),this},withTraits:function(){var i;for(i=0;i<arguments.length;i++)arguments[i].gSaT(this);return this}},gs.expando=function(){var object=gs.inherit(gs.baseClass,"Expando");return object.constructorWithMap=function(map){return gs.passMapToObject(map,this),this},1==arguments.length&&object.constructorWithMap(arguments[0]),object},gs.expandoMetaClass=function(){var object=gs.inherit(gs.baseClass,"ExpandoMetaClass");return object.initialize=function(){return this},object},gs.inherit=function(p,objectName){function f(){}if(null===p)throw TypeError();if(Object.create)return expandWithMetaclass(Object.create(p),objectName);var t=typeof p;if("object"!==t&&"function"!==t)throw TypeError();return f.prototype=p,expandWithMetaclass(new f,objectName)},gs.set=function(value){var object;return object=0===arguments.length?gs.list([]):value,createClassNames(object,["java.util.HashSet"]),object.isSet=!0,object.withz=function(closure){interceptClosureCall(closure,this)},object.add=function(item){return this.contains(item)?!1:(this[this.length]=item,this)},object.addAll=function(elements){if(elements instanceof Array){var i,fails=!1;for(i=0;!fails&&i<elements.length;i++)this.contains(elements[i])&&(fails=!0);if(fails)return!1;for(i=0;i<elements.length;i++)this.add(elements[i])}return this},object.equals=function(other){if(other instanceof Array&&other.length==this.length&&other.isSet){var i,result=!0;for(i=0;i<this.length&&result;i++)other.contains(this[i])||(result=!1);return result}return!1},object.toList=function(){var i,list=[];for(i=0;i<this.length;i++)list[i]=this[i];return gs.list(list)},object.plus=function(other){var result=gs.set();if(result.addAll(this),other instanceof Array){var i;for(i=0;i<other.length;i++)result.contains(other[i])||result.add(other[i])}return result},object.minus=function(other){var result=gs.set();if(result.addAll(this),other instanceof Array){var i;for(i=0;i<other.length;i++)result.contains(other[i])&&result.remove(other[i])}return result},object.remove=function(value){var index=this.indexOf(value);return index>=0&&this.splice(index,1),this},object},gs.map=function(){var gSobject=new GsGroovyMap;return expandWithMetaclass(gSobject,"LinkedHashMap"),applyBaseClassFunctions(gSobject),1==arguments.length&&arguments[0]instanceof Object&&gs.passMapToObject(arguments[0],gSobject),gSobject},Array.prototype.get=function(pos){return 2==arguments.length&&(null===this[pos]||void 0===this[pos])?arguments[1]:this[pos]},Array.prototype.getAt=function(pos){return this[pos]},Array.prototype.withz=function(closure){interceptClosureCall(closure,this)},Array.prototype.size=function(){return this.length},Array.prototype.isEmpty=function(){return 0===this.length},Array.prototype.add=function(element){return this[this.length]=element,this},Array.prototype.addAll=function(elements){var i;if(1==arguments.length)if(elements instanceof Array)for(i=0;i<elements.length;i++)this.add(elements[i]);else this[this.length]=elements;else{var index=arguments[0],data=arguments[1];for(i=0;i<data.length;i++)this.splice(index+i,0,data[i])}return!0},Array.prototype.clone=function(){var result=gs.list([]);return result.addAll(this),result},Array.prototype.plus=function(other){var result=this.clone();return result.addAll(other),result},Array.prototype.minus=function(other){var result=this.clone();return result.removeAll(other),result},Array.prototype.leftShift=function(element){return this.add(element)},Array.prototype.contains=function(object){var gotIt,i;for(i=0;!gotIt&&i<this.length;i++)gs.equals(this[i],object)&&(gotIt=!0);return gotIt},Array.prototype.each=function(closure){var i;for(i=0;i<this.length;i++)interceptClosureCall(closure,this[i]);return this},Array.prototype.reverseEach=function(closure){var i;for(i=this.length-1;i>=0;i--)interceptClosureCall(closure,this[i]);return this},Array.prototype.eachWithIndex=function(closure,index){for(index=0;index<this.length;index++)closure(this[index],index);return this},Array.prototype.any=function(closure){var i;for(i=0;i<this.length;i++)if(closure(this[i]))return!0;return!1},Array.prototype.values=function(){var i,result=[];for(i=0;i<this.length;i++)result[i]=this[i];return result},Array.prototype.remove=function(indexOrValue){var index=-1;return index="number"==typeof indexOrValue?indexOrValue:this.indexOf(indexOrValue),index>=0&&this.splice(index,1),this},Array.prototype.removeAll=function(data){if(data instanceof Array){var result=[];if(this.forEach(function(v,i){data.contains(v)&&result.push(i)}),result.length>0){var decremental=0,thisList=this;result.forEach(function(v){thisList.splice(v-decremental,1),decremental+=1})}}else if("function"==typeof data){var i;for(i=this.length-1;i>=0;i--)data(this[i])&&this.remove(i)}return this},Array.prototype.collect=function(closure){var i,result=gs.list([]);for(i=0;i<this.length;i++)result[i]=closure(this[i]);return result},Array.prototype.collectMany=function(closure){var i,result=gs.list([]);for(i=0;i<this.length;i++)result.addAll(closure(this[i]));return result},Array.prototype.takeWhile=function(closure){var i,result=gs.list([]);for(i=0;i<this.length&&closure(this[i]);i++)result[i]=this[i];return result},Array.prototype.dropWhile=function(closure){var i,result=gs.list([]),j=0,insert=!1;for(i=0;i<this.length;i++)closure(this[i])||(insert=!0),insert&&(result[j++]=this[i]);return result},Array.prototype.drop=function(number){var result=gs.list([]);for(i=number;i<this.length;i++)result[result.length]=this[i];return result},Array.prototype.findAll=function(closure){var values=this.filter(closure);return gs.list(values)},Array.prototype.find=function(closure){var result,i;for(i=0;!result&&i<this.length;i++)closure(this[i])&&(result=this[i]);return result},Array.prototype.first=function(){return this[0]},Array.prototype.head=function(){return this.first()},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.sum=function(){var i,result=0;if(1==arguments.length)for(i=0;i<this.length;i++)result+=arguments[0](this[i]);else{if(this.length>0&&this[0].plus){var item=this[0];for(i=0;i+1<this.length;i++)item=item.plus(this[i+1]);return item}for(i=0;i<this.length;i++)result+=this[i]}return result},Array.prototype.inject=function(){var acc;if(1==arguments.length){acc=this[0];var i;for(i=1;i<this.length;i++)acc=arguments[0](acc,this[i])}else{acc=arguments[0];var j;for(j=0;j<this.length;j++)acc=arguments[1](acc,this[j])}return acc},Array.prototype.toList=function(){return this},Array.prototype.intersect=function(otherList){var i,result=gs.list([]);for(i=0;i<this.length;i++)otherList.contains(this[i])&&result.add(this[i]);return result},Array.prototype.max=function(){var i,result=null;for(i=0;i<this.length;i++)(null===result||this[i]>result)&&(result=this[i]);return result},Array.prototype.min=function(){var i,result=null;for(i=0;i<this.length;i++)(null===result||this[i]<result)&&(result=this[i]);return result},Array.prototype.toString=function(){if(this.length>0){var i,result="[";for(i=0;i<this.length-1;i++)result=result+this[i]+", ";return result=result+this[this.length-1]+"]"}return"[]"},Array.prototype.grep=function(param){var i,result=gs.list([]);if(param instanceof RegExp){for(i=0;i<this.length;i++)gs.match(this[i],param)&&result.add(this[i]);return result}if(param instanceof Array)return this.intersect(param);if("function"==typeof param){for(i=0;i<this.length;i++)param(this[i])&&result.add(this[i]);return result}for(i=0;i<this.length;i++)this[i]==param&&result.add(this[i]);return result},Array.prototype.equals=function(other){if(other instanceof Array&&other.length==this.length){var i,result=!0;for(i=0;i<this.length&&result;i++)gs.equals(this[i],other[i])||(result=!1);return result}return!1},Array.prototype.gSjoin=function(){var separator="";1==arguments.length&&(separator=arguments[0]);var i,result;for(result="",i=0;i<this.length;i++)result+=this[i],i+1<this.length&&(result+=separator);return result},Array.prototype.oldSort=Array.prototype.sort,Array.prototype.sort=function(){var modify=!0;arguments.length>0&&arguments[0]===!1&&(modify=!1);var i,copy=[],tempFunction=null;for(2==arguments.length&&"function"==typeof arguments[1]&&(tempFunction=arguments[1]),1==arguments.length&&"function"==typeof arguments[0]&&(tempFunction=arguments[0]),i=0;i<this.length;i++)copy[i]=this[i];if(null!==tempFunction&&2==tempFunction.length&&copy.oldSort(tempFunction),null!==tempFunction&&1==tempFunction.length&&copy.oldSort(function(a,b){return gs.spaceShip(tempFunction(a),tempFunction(b))}),null===tempFunction&&copy.oldSort(),modify){for(i=0;i<this.length;i++)this[i]=copy[i];return this}return gs.list(copy)},Array.prototype.unique=function(){var modify=!0;arguments.length>0&&arguments[0]===!1&&(modify=!1);var i,copy=[];for(i=0;i<this.length;i++)copy.contains(this[i])||(copy[copy.length]=this[i]);if(modify){for(this.length=0,i=0;i<copy.length;i++)this[i]=copy[i];return this}return gs.list(copy)},Array.prototype.reverse=function(){var i,count=0;if(1==arguments.length&&arguments[0]===!0){for(i=this.length-1;i>count;i--){var temp=this[count];this[count++]=this[i],this[i]=temp}return this}var result=[];for(i=this.length-1;i>=0;i--)result[count++]=this[i];return gs.list(result)},Array.prototype.take=function(number){var i,result=[];for(i=0;number>i;i++)i<this.length&&(result[i]=this[i]);return gs.list(result)},Array.prototype.takeWhile=function(closure){var i,result=[],exit=!1;for(i=0;!exit&&i<this.length;i++)closure(this[i])?result[i]=this[i]:exit=!0;return gs.list(result)},Array.prototype.multiply=function(number){if(0===number)return gs.list([]);var i,result=gs.list([]);for(i=0;number>i;i++){var j;for(j=0;j<this.length;j++)result.add(this[j])}return result},Array.prototype.flatten=function(){var result=gs.list([]);return gs.flatten(result,this),result},Array.prototype.collate=function(number){var step=number,times=0;2==arguments.length&&(step=arguments[1]);for(var result=gs.list([]);step*times<this.length;){for(var items=gs.list([]),pos=step*times;pos<this.length&&items.size()<number;)items.add(this[pos++]);result.add(items),times++}return result},Array.prototype.putAt=function(position,value){this[position]=value},gs.list=function(value){var data=[];if(value&&value.length>0){var i;for(i=0;i<value.length;i++)if(value[i]instanceof gs.spread){var values=value[i].values;if(values.length>0){var j;for(j=0;j<values.length;j++)data[data.length]=values[j]}}else data[data.length]=value[i]}var object=data;return createClassNames(object,["java.util.ArrayList"]),applyBaseClassFunctions(object),object},gs.flatten=function(result,list){list.each(function(it){it instanceof Array?it.length>0&&gs.flatten(result,it):result.add(it)})},gs.range=function(begin,end,inclusive){var start=begin,finish=end,areChars="string"==typeof begin;areChars&&(start=start.charCodeAt(0),finish=finish.charCodeAt(0));var reverse=!1;if(start>finish){var oldStart=start;start=finish,finish=oldStart,reverse=!0,inclusive||(start+=1)}else inclusive||(finish-=1);var result,number,count;for(result=[],number=start,count=0;finish>=number;number++,count++)result[count]=areChars?String.fromCharCode(number):number;reverse&&(result=result.reverse());var object=gs.list(result);return object.toList=function(){return gs.list(this.values())},object},gs.date=function(){var gSobject;return gSobject=1==arguments.length?new Date(arguments[0]):new Date,createClassNames(gSobject,["java.util.Date"]),gSobject.withz=gs.baseClass.withz,gSobject.time=gSobject.getTime(),gSobject.year=gSobject.getFullYear(),gSobject.month=gSobject.getMonth(),gSobject.date=gSobject.getDay(),gSobject.plus=function(other){return"number"==typeof other?gs.date(gSobject.time+144e4*other):gSobject+other},gSobject.minus=function(other){return"number"==typeof other?gs.date(gSobject.time-144e4*other):gSobject-other},gSobject.format=function(rule){var exit="";return rule&&(exit=rule,exit=exit.replaceAll("yyyy",gSobject.getFullYear()),exit=exit.replaceAll("MM",fillZerosLeft(gSobject.getMonth()+1,2)),exit=exit.replaceAll("dd",fillZerosLeft(gSobject.getUTCDate(),2)),exit=exit.replaceAll("HH",fillZerosLeft(gSobject.getHours(),2)),exit=exit.replaceAll("mm",fillZerosLeft(gSobject.getMinutes(),2)),exit=exit.replaceAll("ss",fillZerosLeft(gSobject.getSeconds(),2)),exit=exit.replaceAll("yy",lastChars(gSobject.getFullYear(),2))),exit},gSobject.parse=function(rule,text){var pos=rule.indexOf("MM");if(pos>=0)for(var newMonth=text.substr(pos,2)-1;gSobject.getMonth()!=newMonth;)gSobject.setMonth(newMonth,gSobject.getUTCDate());if(pos=rule.indexOf("dd"),pos>=0)for(var newDay=text.substr(pos,2);gSobject.getUTCDate()!=newDay;)gSobject.setUTCDate(newDay);return pos=rule.indexOf("yyyy"),pos>=0?gSobject.setFullYear(text.substr(pos,4)):(pos=rule.indexOf("yy"),pos>=0&&gSobject.setFullYear(text.substr(pos,2))),pos=rule.indexOf("HH"),pos>=0&&gSobject.setHours(text.substr(pos,2)),pos=rule.indexOf("mm"),pos>=0&&gSobject.setMinutes(text.substr(pos,2)),pos=rule.indexOf("ss"),pos>=0&&gSobject.setSeconds(text.substr(pos,2)),gSobject},gSobject.clearTime=function(){return gSobject.setHours(0,0,0,0),gSobject},gSobject.equals=function(other){return gSobject.time==other.time},gSobject.before=function(other){return gSobject.time<other.time},gSobject.after=function(other){return gSobject.time>other.time},gSobject},gs.rangeFromList=function(list,begin,end){return list.slice(begin,end+1)},gs.exactMatch=function(text,regExp){var mock=text;return mock=regExp instanceof RegExp?mock.replace(regExp,"#"):mock.replace(new RegExp(regExp),"#"),"#"==mock},gs.match=function(text,regExp){var pos;return regExp instanceof RegExp&&(pos=text.search(regExp)),pos>=0},gs.regExp=function(text,ppattern){var patt;patt=ppattern instanceof RegExp?new RegExp(ppattern.source,"g"):new RegExp(ppattern,"g");var object,data=patt.exec(text);if(null===data||void 0===data)return null;for(var list=gs.list([]),i=0;null!==data&&void 0!==data;)list[i]=data instanceof Array&&data.length<2?data[0]:gs.list(data),i+=1,data=patt.exec(text);return object=gs.inherit(list,"RegExp"),createClassNames(object,["java.util.regex.Matcher"]),object.pattern=patt,object.text=text,object.replaceFirst=function(data){return this.text.replaceFirst(this[0],data)},object.replaceAll=function(data){return this.text.replaceAll(this.pattern,data)},object.reset=function(){return this},object},gs.pattern=function(pattern){var object=gs.inherit(gs.baseClass,"Pattern");return createClassNames(object,["java.util.regex.Pattern"]),object.value=pattern,object},gs.matcher=function(item,regExpression){var object=gs.inherit(gs.baseClass,"Matcher");return createClassNames(object,["java.util.regex.Matcher"]),object.data=item,object.regExp=regExpression,object.matches=function(){return gs.exactMatch(this.data,this.regExp)},object},RegExp.prototype.matcher=function(item){return gs.matcher(item,this)},Number.prototype.times=function(closure){var i;for(i=0;this>i;i++)closure(i)},Number.prototype.upto=function(number,closure){var i;for(i=this.value;number>=i;i++)closure(i)},Number.prototype.step=function(number,jump,closure){var i;for(i=this.value;number>i;)closure(i),i+=jump},Number.prototype.multiply=function(number){return this*number},Number.prototype.power=function(number){return Math.pow(this,number)},Number.prototype.byteValue=Number.prototype.doubleValue=Number.prototype.shortValue=Number.prototype.floatValue=Number.prototype.longValue=function(){return this},Number.prototype.intValue=function(){return Math.floor(this)},String.prototype.contains=function(value){return this.indexOf(value)>=0},String.prototype.startsWith=function(value){return 0===this.indexOf(value)},String.prototype.endsWith=function(value){return this.indexOf(value)==this.length-value.length},String.prototype.count=function(value){var reg=new RegExp(value,"g"),result=this.match(reg);return null!==result&&void 0!==result?result.length:0},String.prototype.size=function(){return this.length},String.prototype.replaceAll=function(oldValue,newValue){var reg;return reg=oldValue instanceof RegExp?new RegExp(oldValue.source,"g"):new RegExp(oldValue,"g"),this.replace(reg,newValue)},String.prototype.replaceFirst=function(oldValue,newValue){return this.replace(oldValue,newValue)},String.prototype.reverse=function(){return this.split("").reverse().join("")},String.prototype.tokenize=function(){var str=" ";1==arguments.length&&null!==arguments[0]&&void 0!==arguments[0]&&(str=arguments[0]);var list=this.split(str);return gs.list(list)},String.prototype.multiply=function(value){if("number"==typeof value){var i,result="";for(i=0;(0|value)>i;i++)result+=this;return result}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.eachLine=function(closure){var i,items=getItemsMultiline(this);for(i=0;i<items.length;i++){var item=items[i];2==closure.length?closure(item,i):closure(item)}},String.prototype.readLines=function(){var items=getItemsMultiline(this);return gs.list(items)},String.prototype.padRight=function(number){var sep=" ";2==arguments.length&&(sep=arguments[1]);for(var item=this;item.length<number;)item+=sep;return item},String.prototype.padLeft=function(number){var sep=" ";2==arguments.length&&(sep=arguments[1]);for(var item=this;item.length<number;)item=sep+item;return item},String.prototype.isNumber=function(){if(""===this.trim())return!1;var res=Number(this);return isNaN(res)?!1:!0},String.prototype.plus=function(other){var addText="null";return void 0!==other&&null!==other&&(addText=void 0!==other.toString?other.toString():other),this+addText},gs.classForName=function(name,obj){var result=null;try{for(var pos=name.indexOf(".");pos>=0;)name=name.substring(pos+1),pos=name.indexOf(".");result=eval(name)}catch(err){result=obj}return result},gs.metaClass=function(item){var type=typeof item;return"string"==type?item=new String(item):"number"==type?item=new Number(item):"function"===type&&(globalMetaClass[item.name]||(globalMetaClass[item.name]={gSstatic:new StaticMethods(item),getStatic:function(){return this.gSstatic}}),item=globalMetaClass[item.name]),item},gs.passMapToObject=function(source,destination){var prop;for(prop in source)"function"!=typeof source[prop]&&(isMapProperty(prop)||gs.sp(destination,prop,source[prop]))},gs.equals=function(value1,value2){return hasFunc(value1,"equals")?value1.equals(value2):hasFunc(value2,"equals")?value2.equals(value1):value1==value2},gs.is=function(value1,value2){if(null!==value1&&hasFunc(value1,"is")){var count,params=gs.list([value2]);for(count=2;count<arguments.length;count++)params.add(arguments[count]);return gs.mc(value1,"is",params)}return value1==value2},gs.random=function(){var object=gs.inherit(gs.baseClass,"Random");return object.nextInt=function(number){var ran=Math.ceil(Math.random()*number);return ran-1},object.nextBoolean=function(){var ran=Math.random();return.5>ran},object},gs.bool=function(item){return null!==item&&void 0!==item&&void 0!==item.isEmpty?!item.isEmpty():"number"==typeof item&&0===item?!1:"string"==typeof item&&""===item?!1:"string"==typeof item&&""!==item?!0:item},gs.less=function(itemLeft,itemRight){return itemRight>itemLeft},gs.greater=function(itemLeft,itemRight){return itemLeft>itemRight},gs.spaceShip=function(itemLeft,itemRight){return gs.equals(itemLeft,itemRight)?0:gs.less(itemLeft,itemRight)?-1:gs.greater(itemLeft,itemRight)?1:void 0},gs.instanceOf=function(item,name){var gotIt=!1;if("String"==name)return"string"==typeof item;if("Number"==name)return"number"==typeof item;if(item.clazz){var classInfo;for(classInfo=item.clazz;null!==classInfo&&void 0!==classInfo&&!gotIt;)classInfoContainsName(classInfo,name)?gotIt=!0:classInfo=classInfo.superclass;if(!gotIt&&item.clazz.interfaces){var i;for(i=0;i<item.clazz.interfaces.length&&!gotIt;i++)classInfoContainsName(item.clazz.interfaces[i],name)&&(gotIt=!0)}}else"function"==typeof item&&"Closure"==name&&(gotIt=!0);return gotIt},gs.elvis=function(booleanExpression,trueExpression,falseExpression){return gs.bool(booleanExpression)?trueExpression:falseExpression},gs.multiply=function(a,b){return hasFunc(a,"multiply")?a.multiply(b):hasFunc(b,"multiply")?b.multiply(a):a*b},gs.plus=function(a,b){return hasFunc(a,"plus")?a.plus(b):hasFunc(b,"plus")?b.plus(a):"number"==typeof a&&"number"==typeof b&&1>a+b?(1e3*a+1e3*b)/1e3:a+b},gs.minus=function(a,b){return hasFunc(a,"minus")?a.minus(b):a-b},gs.gSin=function(item,group){return null!==group&&void 0!==group&&"function"==typeof group.contains?group.contains(item):!1},gs.thisOrObject=function(thisItem,objectItem){return void 0===thisItem.withz&&null!==objectItem&&void 0!==objectItem?objectItem:thisItem},gs.spread=function(item){item&&item instanceof Array&&(this.values=item)},gs.sp=function(item,nameProperty,value){if("setProperty"==nameProperty)item[nameProperty]=value;else if("getProperty"==nameProperty)item[nameProperty]=value;else if(null!==item&&item instanceof StaticMethods)item[nameProperty]=value,item.gSparent[nameProperty]=value;else if(hasFunc(item,"setProperty"))item.setProperty(nameProperty,value);else{var nameFunction="set"+nameProperty.charAt(0).toUpperCase()+nameProperty.slice(1);void 0===item[nameFunction]||null===item[nameFunction]||"function"!=typeof item[nameFunction]?void 0===item[nameProperty]&&void 0!==item.setPropertyMissing&&"function"==typeof item.setPropertyMissing?item.setPropertyMissing(nameProperty,value):item[nameProperty]=value:item[nameFunction](value)
}},gs.gp=function(item,nameProperty){if(3==arguments.length&&(null===item||void 0===item))return null;if(hasFunc(item,"getProperty"))return item.getProperty(nameProperty);var nameFunction="get"+nameProperty.charAt(0).toUpperCase()+nameProperty.slice(1);if(hasFunc(item,nameFunction))return item[nameFunction]();if("function"==typeof item[nameProperty]&&"size"==nameProperty)return item[nameProperty]();if(void 0!==item[nameProperty])return item[nameProperty];if(void 0!==item.clazz){var addDelegate=mapAddDelegate[item.clazz.simpleName];if(null!==addDelegate&&void 0!==addDelegate){var i;for(i=0;i<addDelegate.length;i++){var prop=addDelegate[i],target=item[prop][nameProperty];if(void 0!==target)return item[prop][nameProperty]}}}if(void 0!==item.gSdefaultValue&&"function"==typeof item.gSdefaultValue&&(item[nameProperty]=item.gSdefaultValue()),categories.length>0&&void 0===item[nameProperty]){var whereExecutes=categorySearching(nameFunction);if(null!==whereExecutes)return whereExecutes[nameFunction].apply(item,[item])}return void 0!==item.propertyMissing&&"function"==typeof item.propertyMissing?item.propertyMissing(nameProperty):item[nameProperty]},gs.plusPlus=function(item,nameProperty,plus,before){var value=gs.gp(item,nameProperty),newValue=value;return plus?(gs.sp(item,nameProperty,value+1),newValue++):(gs.sp(item,nameProperty,value-1),newValue--),before?newValue:value},gs.mc=function(item,methodName,values,objectVar){if(gs.consoleInfo&&console&&console.log("[INFO] gs.mc ("+item+")."+methodName+" params:"+values),"string"==typeof item&&"split"==methodName)return item.tokenize(values[0]);if("string"==typeof item&&"length"==methodName)return item.length;if(item instanceof Array&&"join"==methodName)return values.size()>0?item.gSjoin(values[0]):item.gSjoin();if(objectVar)try{return gs.mc(objectVar,methodName,values)}catch(e){}if(hasFunc(item,methodName)){var f=item[methodName];return f.apply(item,values)}if(methodName.startsWith("get")||methodName.startsWith("set")){var varName=methodName.charAt(3).toLowerCase()+methodName.slice(4);if(void 0!==item[varName]&&!hasFunc(item,varName))return methodName.startsWith("get")?gs.gp(item,varName):gs.sp(item,varName,values[0])}if(methodName.startsWith("is")){var varName=methodName.charAt(2).toLowerCase()+methodName.slice(3);if(void 0!==item[varName]&&!hasFunc(item,varName))return gs.gp(item,varName)}if("newInstance"==methodName)return item();var whereExecutes;if(categories.length>0&&(whereExecutes=categorySearching(methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);var ob;for(ob in annotatedCategories)if(annotatedCategories[ob]==item.clazz.simpleName){var categoryItem=gs.myCategories[ob]();if(categoryItem[methodName]&&"function"==typeof categoryItem[methodName])return exFn(categoryItem,methodName,item,values)}if(mixins.length>0&&(whereExecutes=mixinSearching(item,methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);if(mixinsObjects.length>0&&(whereExecutes=mixinObjectsSearching(item,methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);if(void 0!==item.clazz){var addDelegate=mapAddDelegate[item.clazz.simpleName];if(null!==addDelegate&&void 0!==addDelegate){var i;for(i=0;i<addDelegate.length;i++){var prop=addDelegate[i],target=item[prop][methodName];if(void 0!==target)return exFn(item[prop],methodName,item,values)}}}if(null!==actualDelegate&&void 0!==actualDelegate[methodName])return actualDelegate[methodName].apply(item,values);if(null!==actualDelegate&&void 0===item.methodMissing&&void 0!==actualDelegate.methodMissing)return gs.mc(actualDelegate,methodName,values);if(item.methodMissing)return item.methodMissing(methodName,values);if("function"==typeof eval(methodName))return eval(methodName).apply(this,values);throw"gs.mc Method "+methodName+" not exist in "+item},gs.categoryUse=function(item,itemClass,closure){var ob,categoryCreated;if(existAnnotatedCategory(item)){categoryCreated=gs.myCategories[item]();for(ob in categoryCreated)isObjectProperty(ob)||isConstructor(ob,categoryCreated[ob])||"function"!=typeof categoryCreated[ob]||addFunctionToClassIfPrototyped(ob,categoryCreated[ob],annotatedCategories[item])}else categories[categories.length]=itemClass;if(closure(),existAnnotatedCategory(item)){categoryCreated=gs.myCategories[item]();for(ob in categoryCreated)isObjectProperty(ob)||isConstructor(ob,categoryCreated[ob])||"function"!=typeof categoryCreated[ob]||removeFunctionToClass(ob,categoryCreated[ob],annotatedCategories[item])}else categories.splice(categories.length-1,1)};var annotatedCategories={};gs.addAnnotatedCategory=function(nameCategory,nameClass){annotatedCategories[nameCategory]=nameClass},gs.mixinClass=function(item,classes){var gotIt=!1;if(mixins.length>0){var i;for(i=0;i<mixins.length&&!gotIt;i++)if(mixins[i].name==item){var j;for(j=0;j<classes.length;j++)mixins[i].items[mixins[i].items.length]=classes[j];gotIt=!0}}gotIt||(mixins[mixins.length]={name:item,items:classes})},gs.mixinObject=function(item,classes){var gotIt=!1;if(mixinsObjects.length>0){var i;for(i=0;i<mixinsObjects.length&&!gotIt;i++)if(mixinsObjects[i].item==item){var j;for(j=0;j<classes.length;j++)mixinsObjects[i].items[mixinsObjects[i].items.length]=classes[j];gotIt=!0}}gotIt||(mixinsObjects[mixinsObjects.length]={item:item,items:classes})},gs.stringBuffer=function(){var object=gs.inherit(gs.baseClass,"StringBuffer");return object.value="",1==arguments.length&&"string"==typeof arguments[0]&&(object.value=arguments[0]),object.toString=function(){return this.value},object.leftShift=function(value){return this.append(value)},object.plus=function(value){return this.append(value)},object.size=function(){return this.value.length},object.append=function(value){return this.value=this.value+value,this},object},gs.astDelegate=function(baseClass,nameField){var currentDelegate=mapAddDelegate[baseClass];(null===currentDelegate||void 0===currentDelegate)&&(currentDelegate=[]),currentDelegate[currentDelegate.length]=nameField,mapAddDelegate[baseClass]=currentDelegate},gs.applyDelegate=function(func,delegate,params){var oldDelegate=actualDelegate;actualDelegate=delegate;var result=func.apply(delegate,params);return actualDelegate=oldDelegate,result},gs.executeCall=function(func,params){return"object"==typeof func&&void 0!==func.call?func.call.apply(func,params):func.apply(func,params)},Function.prototype.curry=function(){var slice=Array.prototype.slice,args=slice.apply(arguments),that=this;return function(){return that.apply(null,args.concat(slice.apply(arguments)))}},Function.prototype.rcurry=function(){var slice=Array.prototype.slice,args=slice.apply(arguments),that=this;return function(){return that.apply(null,slice.apply(arguments).concat(args))}},Function.prototype.ncurry=function(){var slice=Array.prototype.slice,args=slice.apply(arguments,[1]),begin=arguments[0],that=this;return function(){return that.apply(null,slice.apply(arguments,[0,begin]).concat(args).concat(slice.apply(arguments,[begin])))}},Function.prototype.leftShift=function(){var func=arguments[0],that=this;return function(){return that(func.apply(null,arguments))}},Function.prototype.rightShift=function(){var func=arguments[0],that=this;return function(){return func(that.apply(null,arguments))}},gs.fs=function(name,thisScope){if(void 0!==thisScope&&void 0!==thisScope[name])return thisScope[name];var value=gs.gp(thisScope,name);if(void 0===value){var func=new Function("return "+name);return func()}return value},gs.toJavascript=function(obj){if(null!==obj&&void 0!==obj&&gs.isGroovyObj(obj)){var result;if(null!==obj&&void 0!==obj&&"function"!=typeof obj)if(obj instanceof Array){result=[];var i;for(i=0;i<obj.length;i++)result[result.length]=gs.toJavascript(obj[i])}else if(obj instanceof Object){result={};var ob;for(ob in obj)isMapProperty(ob)||(result[ob]=gs.toJavascript(obj[ob]))}else result=obj;return result}return obj},gs.toGroovy=function(obj,objClass){var result;if(null!==obj&&void 0!==obj&&"function"!=typeof obj)if(obj instanceof Array){result=gs.list([]);var i;for(i=0;i<obj.length;i++)result.add(gs.toGroovy(obj[i],objClass))}else if(obj instanceof Object){var ob;if(void 0!==objClass&&null!==objClass){result=objClass();for(ob in obj)result[ob]=gs.toGroovy(obj[ob])}else{result=gs.map();for(ob in obj)result.add(ob,gs.toGroovy(obj[ob]))}}else result=obj;return result},gs.toNumber=function(number){return number?"string"==typeof number?parseFloat(number):number:void 0},gs.isGroovyObj=function(maybeGroovyObject){return null!==maybeGroovyObject&&void 0!==maybeGroovyObject.withz&&"function"==typeof maybeGroovyObject.withz||void 0!==maybeGroovyObject.clazz&&"java.util.LinkedHashMap"==maybeGroovyObject.clazz.name}}).call(this);