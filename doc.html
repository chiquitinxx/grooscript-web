<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Jorge Franco">
<title>Grooscript documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1><a href="index.html">Grooscript</a> documentation</h1>
<div class="details">
<span id="author" class="author">Jorge Franco</span><br>
<span id="email" class="email"><a href="mailto:grooscript@gmail.com">grooscript@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about">About</a></li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_requirements">Requirements</a></li>
<li><a href="#_getting_started">Getting started</a></li>
<li><a href="#_conversion">Conversion</a>
<ul class="sectlevel2">
<li><a href="#_options">Options</a></li>
<li><a href="#_general_support">General support</a></li>
<li><a href="#_java_support">Java support</a></li>
<li><a href="#_groovy_support">Groovy support</a></li>
</ul>
</li>
<li><a href="#_converted_code">Converted code</a>
<ul class="sectlevel2">
<li><a href="#_combine_both_worlds">Combine both worlds</a></li>
</ul>
</li>
<li><a href="#_annotations">Annotations</a>
<ul class="sectlevel2">
<li><a href="#_gsnative">GsNative</a></li>
<li><a href="#_gsnotconvert">GsNotConvert</a></li>
</ul>
</li>
<li><a href="#_helper_tools">Helper Tools</a>
<ul class="sectlevel2">
<li><a href="#_htmlbuilder">HtmlBuilder</a></li>
</ul>
</li>
<li><a href="#_tips">Tips</a></li>
<li><a href="#_tools">Tools</a>
<ul class="sectlevel2">
<li><a href="#_gradle_plugin">Gradle plugin</a></li>
<li><a href="#_grails_plugin">Grails plugin</a></li>
<li><a href="#_npm_package">Npm package</a></li>
<li><a href="#_bower_package">Bower package</a></li>
</ul>
</li>
<li><a href="#_require_js_modules">Require.js modules</a>
<ul class="sectlevel2">
<li><a href="#_start_with_one_javascript_file">Start with one javascript file</a></li>
<li><a href="#_add_javascript_dependencies">Add javascript dependencies</a></li>
<li><a href="#_using_it">Using it</a></li>
</ul>
</li>
<li><a href="#_more_links">More links</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>Groovy to javascript transpiler</strong></p>
</div>
<div class="imageblock" style="float: right">
<div class="content">
<img src="img/logo.png" alt="image" width="150" height="150">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about">About</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an open source project, with <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2</a> license. Is part
of awesome <a href="http://groovy.codehaus.org/">Groovy</a> ecosystem. If you want to contribute, help or support the project,
you&#8217;re welcome, can contact in <a href="http://github.com/chiquitinxx/grooscript">Github</a> or via email.</p>
</div>
<div class="paragraph">
<p>Project started Aug 26, 2012 with one contributor. Now, we are four contributors, and we have nice ideas to move
on. Project is starting, and all the feedback is more than welcome, we want keep on groovy&#8217;ing javascript!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Be aware javascript isn&#8217;t Java or Groovy, lot of differences between them. The main idea of this project is use
Groovy strengths in the browser. I&#8217;m looking for use groovy and java code in both sides
(server and client), work in a single environment, use groovy and java tools and IDE&#8217;s.</p>
</div>
<div class="paragraph">
<p>Grooscript is a library that converts your groovy code to javascript. I&#8217;ve tried that converted code doesn&#8217;t contains
strange code or magical things. So you can use and follow that converted javascript code. This code needs <code><strong>grooscript.js</strong></code>
or <code><strong>grooscript.min.js</strong></code> to run in a javascript environment.</p>
</div>
<div class="paragraph">
<p>The typical flow is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create awesome groovy or java code while test it with <a href="https://code.google.com/p/spock/">Spock</a> :)</p>
</li>
<li>
<p>Convert code to javascript.</p>
</li>
<li>
<p>Add that converted files to your html or js project.</p>
</li>
<li>
<p>Then, work in your groovy code and use javascript when you want to.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Grooscript offer some tools to help you, a <a href="https://github.com/chiquitinxx/grooscript-gradle-plugin">gradle</a>
plugin, a <a href="https://github.com/chiquitinxx/grails-grooscript">grails</a> plugin and a node.js
<a href="https://www.npmjs.org/package/grooscript">npm</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements">Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Grooscript will compile your piece of groovy code, so you need Groovy, at least version 2. If you use Groovy
2.0, you can&#8217;t convert traits, introduced in Groovy 2.3. So, add grooscript in your project dependencies and that&#8217;s all.
By default grooscript depends from Groovy 2.4, but you can use the groovy version of your project excluding
groovy dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">compile 'org.grooscript:grooscript:1.3.0', {
    exclude module: "groovy"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The javascript generated code is ECMAScript 5 compatible. So will run at any browser or node.js.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create a groovy script to make a conversion and see the converted code in your console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@Grab('org.grooscript:grooscript:1.3.0')

import org.grooscript.GrooScript

def result = GrooScript.convert '''
    def sayHello = { println "Hello ${it}!" }
    ['Groovy','JavaScript','GrooScript'].each sayHello'''

println result</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to make conversions in your groovy / java project, you need <a href="jars/grooscript-1.3.0.jar">grooscript.jar</a>.
You can get from mavenCentral or bintray <code>org.grooscript:grooscript:1.3.0</code> in your project&#8217;s dependencies. Also need <code>grooscript.js</code>,
inside the jar or download from <a href="downloads.html">here</a> to run the converted code in your javascript environment.</p>
</div>
<div class="paragraph">
<p>Usually, you will convert groovy or java files to javascript:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import org.grooscript.GrooScript

//Convert some file's or folder's, generate .js files with same name of each source file.
GrooScript.convert('path/to/file/or/folder', 'path/to/destination/folder')
GrooScript.convert(['file', 'folder', ...], 'path/to/destination/folder')
//Also can convert all source files to one javascript file
GrooScript.convert('any/number/of/sources', 'path/file.js')
//You can set conversionOptions, is an optional parameter
Map conversionOptions = [anyConversionOption: value]
GrooScript.convert('source', 'destionation', conversionOptions)</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the number of files is increasing, or want to automatize conversions, the gradle plugin helps a lot, and
I recommend you to use it. <a href="starting_gradle.html">Guide</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversion">Conversion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For convert groovy code to javascript, that groovy code is compiled. Then javascript code is generated
visiting generated AST tree. You can try <a href="conversions.html">online</a> conversions at grooscript site. In the
source of the project you can take a look at all the groovy code that is converted to javascript in tests,
you have full scope of all supported features in a lot of
<a href="https://github.com/chiquitinxx/grooscript/tree/master/src/test/resources">groovy scripts</a></p>
</div>
<div class="paragraph">
<p>You usually will convert files with groovy code to a destination folder or js file. To be dynamic and automatize
conversion process I strongly recommend to use <a href="https://github.com/chiquitinxx/grooscript-gradle-plugin">grooscript gradle plugin</a>.
You can activate a daemon to automatically convert groovy code when files are modified.</p>
</div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="paragraph">
<p>To help or improve conversion process, you can set some conversion options when you convert groovy code. There is an
enum with available conversion options:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">package org.grooscript.convert

enum ConversionOptions {

    CLASSPATH('classpath', null),
    CUSTOMIZATION('customization', null),
    MAIN_CONTEXT_SCOPE('mainContextScope', null),
    INITIAL_TEXT('initialText', null),
    FINAL_TEXT('finalText', null),
    RECURSIVE('recursive', false),
    ADD_GS_LIB('addGsLib', null),
    REQUIRE_JS_MODULE('requireJsModule', false),
    CONSOLE_INFO('consoleInfo', false),
    INCLUDE_DEPENDENCIES('includeDependencies', false),
    NASHORN_CONSOLE('nashornConsole', false)

    String text
    def defaultValue

    ConversionOptions(String text, defaultValue) {
        this.text = text
        this.defaultValue = defaultValue
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>More info about conversion options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">classpath</dt>
<dd>
<p>List of folders or jar&#8217;s to find dependencies. Before groovy code is converted to javascript, that code have to be successfully compiled. For example: [''src/groovy'']</p>
</dd>
<dt class="hdlist1">customization</dt>
<dd>
<p>to each file to be converted, will be applied a groovy <a href="http://docs.codehaus.org/display/GROOVY/Advanced+compiler+configuration">customization</a>. For example you can for example type check all the groovy classes to be converted with { -&gt; ast(TypeChecked)}</p>
</dd>
<dt class="hdlist1">initialText</dt>
<dd>
<p>you can add test at the beginning of your converted javascript file. You can add comments or javascript code. For example: ''//This code has been generated with grooscript''</p>
</dd>
<dt class="hdlist1">finalText</dt>
<dd>
<p>like initialText, but at the end of the converted file. For example: ''MyClass().init();''</p>
</dd>
<dt class="hdlist1">recursive</dt>
<dd>
<p>if you specify a folder with the <strong>source</strong> conversion option, by default will not convert files inside folders. To convert recursive, just set to true</p>
</dd>
<dt class="hdlist1">mainContextScope</dt>
<dd>
<p>you can help the converted, specifying functions and variables that will be availables in the main context of the javascript environment. For example: [''$'', ''window'',''myFunction'']</p>
</dd>
<dt class="hdlist1">addGsLib</dt>
<dd>
<p>you can add a grooscript js lib at the beginning of the converted file. For example you can add grooscript.js to the result, and then you don&#8217;t have to worry about include that dependency in javascript ''grooscript''</p>
</dd>
<dt class="hdlist1">requireJsModule</dt>
<dd>
<p>the result javascript code will be as a require.js module.</p>
</dd>
<dt class="hdlist1">consoleInfo</dt>
<dd>
<p>you get info in console about conversion process setting to true. Is mainly a debug option.</p>
</dd>
<dt class="hdlist1">includeDependencies</dt>
<dd>
<p>in the result javascript file, will be added conversion of dependencies. You can&#8217;t set both includeDependencies and requireJsModule to true.</p>
</dd>
<dt class="hdlist1">nashornConsole</dt>
<dd>
<p>when you set to true, then in javascript will be used 'print' function to write in console. 'console.log()' in sot supported by Nashorn.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_general_support">General support</h3>
<div class="paragraph">
<p>As you can imagine, not all groovy and java is supported. The main focus is support the conversion of groovy
code with the logic of your application, and use as many groovy magic as possible. Only groovy-core is
supported, other modules as Json, File, Swing, Templates, &#8230;&#8203; are not supported.</p>
</div>
<div class="paragraph">
<p>The more you try use a specific Java type or a complex metaprogramming feature, then you will get a fail.
Java code is supported, but using same types as groovy does. Don&#8217;t hesitate to say that you need a non
implemented type, or function, can be done in next releases.</p>
</div>
<div class="paragraph">
<p>I&#8217;m going to detail general rules.</p>
</div>
<div class="sect3">
<h4 id="_packages">Packages</h4>
<div class="paragraph">
<p>They are supported. Actually conversion generate js code where package info is saved only for class names.
So two classes with same name in distinct packages are converted with the same name. Lack of package support
in javascript, but we have some ideas to improve this in the future.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">package one

class First {}

package two

class First {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Are converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">function First() { ... }

function First() { ... }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_interfaces">Interfaces</h4>
<div class="paragraph">
<p>Totally ignored and not converted</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">interface Move {
    def start()
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_objects">Objects</h4>
<div class="paragraph">
<p>Objects are supported, with static and normal properties. You can have more than 1 constructor with same
number of parameters. Overloading is not supported, you can&#8217;t have two methods with same name. Abstract
methods are ignored, just convert implementations in extending classes. Private, public, protected, &#8230;&#8203; are
ignored, as in groovy you can access private methods and fields in javascript. Modifier final also ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class MyObject {
    private static final NUMBER = 6
    def name = 'MyObject'
    Map map

    MyObject() {
        map = [:]
    }

    MyObject(name) {
        map = [newName: name]
        this.name = name
    }

    private addToMap(key, value) {
        map[key] = value
    }

    void register(listActions) {
        listActions.each {
            addToMap(it.name, it.data ?: NUMBER)
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Class data not well supported, just a few important methods and properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class A { def a }
class B extends A {}
def a = new A()
def b = new B()

assert a.class == a.getClass()
assert a.metaClass == a.getMetaClass()
assert a.getClass().getName() == 'contribution.A'

assert a.getClass().getSimpleName() == 'A'
assert b instanceof A
assert b instanceof contribution.B
assert Class.forName('contribution.B') == B
assert A.newInstance()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Equals method is used in comparisons, and you can create / use in your classes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inheritance">Inheritance</h4>
<div class="paragraph">
<p>Support is limited, is ok that you create classes that extends other to add behavior. You can&#8217;t extend
any java or groovy class, just your own classes or other classes already converted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class Bicycle implements Move {
    int speed

    Bicycle() {
        speed = 0
    }

    def start() {
        speed = 1
    }
}

class MountainBike extends Bicycle {
    def seatHeight

    MountainBike() {
        super() <i class="conum" data-value="1"></i><b>(1)</b>
        seatHeight = 5
    }

    <i class="conum" data-value="2"></i><b>(2)</b>
    //def start() {
    //    super.start()
    //}
}

class CoolMountainBike extends MountainBike {
    CoolMountainBike() {
        super()
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>super is allowed in constructors</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>super in not allowed out of constructor</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_try_blocks">Try blocks</h4>
<div class="paragraph">
<p>Try, catch, and finally blocks are supported. Only first catch block will be converted if you use more than
one. Like I/O classes are not supported, I suppose that you will use try blocks a little.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def anyCatch = {
    try {
        throw new Exception()
        value = 4
    } catch (any) {
        return 2
    }
}

assert anyCatch() == 2
assert value == 3</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_java_support">Java support</h3>
<div class="paragraph">
<p>Java support is not the target of this library, groovy is. Like groovy uses java, grooscript support a lot
of java stuff. If you need any specific java type, other than a basic type, please before check if is supported.
Grooscript convert your code to javascript, but the normal use of a normal programming language, not specific
types or modules. You can expect variables, arrays, data types, operators, control flow, classes and objects you
create, basic inheritance, numbers, string, dates, collections, maps, &#8230;&#8203; are supported. But Thread, XML,
Reflection, &#8230;&#8203; are not supported.</p>
</div>
<div class="sect3">
<h4 id="_primitives">Primitives</h4>
<div class="paragraph">
<p>Basic types are ignored, they are just used in javascript. No differences between float, int, &#8230;&#8203; just numbers
are 'numbers' and String are javascript String&#8217;s. Integer, Float, Double, &#8230;&#8203; types are not supported, just
Integer.parseInt and Float.parseFloat are supported. Basic operations are supported: <code>+, -, *, /, %, **</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_equals_hashcode_and_compare">Equals, hashCode and compare</h4>
<div class="paragraph">
<p>Equals is used comparing objects, hashCode and compareTo are not supported. Groovy truth is used in comparisons.</p>
</div>
</div>
<div class="sect3">
<h4 id="_enum">Enum</h4>
<div class="paragraph">
<p>Not much work with enums, just good as a set of values, stuff like 'values' are not supported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">enum Days {
    monday, tuesday, wednesday, thursday, friday, saturday, sunday

    static tellMeOne() {
        'one'
    }
}

Days a = Days.monday

assert a == Days.monday
assert 'one' == Days.tellMeOne()
assert Days.monday.name() == 'monday'
assert a.name() == 'monday'
assert a.ordinal() == 0
assert Days.sunday.ordinal() == 6</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nested_classes">Nested Classes</h4>
<div class="paragraph">
<p>The support of creating classes inside other classes has not been tested well. Take care with them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class OuterClass {
    ...
    class NestedClass {
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The use of anonymous classes is not allowed, and you will get an exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class WithRunnable {

    def running = false

    def goRun() {
        def runnable = new Runnable () {
            @Override
            public void run() {
                running = true
            }
        }
        runnable.run()
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_types">Types</h4>
<div class="paragraph">
<p>Good support in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>java.util.ArrayList</p>
</li>
<li>
<p>java.util.HashMap</p>
</li>
<li>
<p>java.util.HashSet</p>
</li>
<li>
<p>java.lang.String</p>
</li>
<li>
<p>java.util.Date</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Basic support in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>java.math.BigDecimal</p>
</li>
<li>
<p>java.util.Random</p>
</li>
<li>
<p>java.lang.StringBuffer</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_java_8">Java 8</h4>
<div class="paragraph">
<p>Nothing added in grooscript to support any java 8 feature or type. If you introduce for example lambda expression,
compilation of the conversion will fail, as groovy fails.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_groovy_support">Groovy support</h3>
<div class="paragraph">
<p>In general groovy features are supported, except advanced metaprogramming techniques and AST&#8217;s applied in phases
after semantic analysis. <code>as</code> is supported only at specific situations. Owner is totally ignored.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see examples of some conversions.</p>
</div>
<div class="sect3">
<h4 id="_gstrings">GStrings</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">things = '"bread","apple","egg"'

def multiline = '''\
Groovy is closely related to Java,
so it is quite easy to make a transition.
'''

multiline.eachLine { line, count -&gt;
    assert count == 0 ? 'Groovy is closely related to Java,' : 'so it is quite easy to make a transition.'
}

def multilineDouble = """
things: $things
"""

assert multilineDouble == '''
things: "bread","apple","egg"
'''</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lazy evaluation with <code>${&#8594; resource}</code> is not supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_constructor_optional_parameters_pointer_methods_multiple_assignment">Default constructor, optional parameters, pointer methods, multiple assignment</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class Language {
    def name
    def features

    def twoNiceFeatures() {
        def result = []
        2.times {
            result &lt;&lt; features[randomFeature()]
        }
        result.collect this.&amp;nice
    }

    def randomFeature() {
        new Random().nextInt(features.size())
    }

    def nice(value) {
        "* ${value.toUpperCase()} *"
    }
}

def groovy = new Language(name: 'Groovy', features: [
        'Flat learning curve', 'Smooth Java integration', 'Vibrant and rich ecosystem',
        'Powerful features', 'Domain-Specific Languages', 'Scripting and testing glue'
])

def (feature1, feature2) = groovy.twoNiceFeatures()
//* DOMAIN-SPECIFIC LANGUAGES *
//* POWERFUL FEATURES *</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_operators">Operators</h4>
<div class="paragraph">
<p><code>&lt;=&gt;</code>, <code>.@</code>, <code>*.</code>, <code>&#8230;&#8203;</code>, <code>in</code>, <code>is</code>, <code>?.</code> and <code>?:</code> are supported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def compare = { a,b -&gt; a &lt;=&gt; b }
assert compare(2, 1) == 1 &amp;&amp; compare(1, 1) == 0 &amp;&amp; compare(1, 2) == -1

class Item {
    def value
    def config = [:]
    def getValue() {
        1
    }
    boolean equals(other) {
        this.config == other.config
    }
}
def item = new Item(value: 5)
assert item.value == 1
assert item.@value == 5

assert 5 in [1, 9, 5]
assert !(2 in [1])

def otherItem = new Item(value: 5)
assert item == otherItem
assert !(item.is(otherItem))

assert item?.config?.other == null
assert 5 == item?.config?.data ?: 5</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>*</code> is not supported in *list, to divide a list in parameters for a function / method.</p>
</div>
<div class="paragraph">
<p>Also you can overload this operators in your classes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Overload operators</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">operator</th>
<th class="tableblock halign-left valign-top">function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a + b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.plus(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a - b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.minus(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a * b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.multiply(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a ** b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.power(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a / b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.div(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a % b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.mod(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &lt;&lt; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.leftShift(b)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a &gt;&gt; b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a.rightShift(b)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_regular_expressions">Regular expressions</h4>
<div class="paragraph">
<p>Javascript support regular expressions, so I use it with groovy style. Not much tests on this, try it before .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">assert "abc" == /abc/
assert "\\d" == /\d/
def reference = "hello"
assert reference == /$reference/
assert "\$" == /$/

assert "potatoe" ==~ /potatoe/
assert !("potatoe with frites" ==~ /potatoe/)

myFairStringy = 'The rain in Spain stays mainly in the plain!'

found = ''
(myFairStringy =~ /\b\w*ain\b/).each { match -&gt;
        found += match + ' '
}
assert found == 'rain Spain plain '

def matcher = 'class A{ class B {}}' =~ /\bclass\s+(\w+)\s*\{/
assert matcher.size() == 2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lists_ranges_maps_ans_sets">Lists, ranges, maps ans sets</h4>
<div class="paragraph">
<p>A lot of lists and map functions are implemented, so the support is very good. The <code>*</code> operator to get lists is
available too.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def odd = [1,2,3].findAll{ item -&gt;
    item % 2 == 1
}
assert odd.size() == 2
assert odd[0] == 1
assert odd[1] == 3

assert [1,2] + [3,5] == [1,2,3,5]
assert [1,2,3,4,5] - [3,5] == [1,2,4]

list = [1, 2, 2, 3, 4]
assert list.unique() == [1, 2, 3, 4]
list = [1, 2, 2, 3, 4]
def uniqList = list.unique(false)
assert list == [1, 2, 2, 3, 4]
assert uniqList == [1, 2, 3, 4]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ranges with negative numbers are not supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_groovy_truth">Groovy truth</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def a = true
def b = true
def c = false
assert a
assert a &amp;&amp; b
assert a || c
assert !c

def numbers = [1,2,3]
assert numbers
numbers = []
assert !numbers

assert ['one':1]
assert ![:]

assert ('Hello World' =~ /World/)

assert 'This is true'
assert !''

def s = ''
assert !("$s")
s = 'x'
assert ("$s")

assert !0
assert 1

assert new Object()
assert !null</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, you can customize groovy truth of your classes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class Account {
    String name
    boolean disabled = false

    boolean asBoolean() { !disabled }
}

assert new Account(name: 'current')
assert !new Account(name: 'old', disabled: true)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_expando_class">Expando class</h4>
<div class="paragraph">
<p>JavaScript object is similar to Expando object, and is supported</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">clever = new Expando()

clever.name = 'Groovy'
clever."$clever.name" = { 'YES'}

assert clever.Groovy() == 'YES'
clever."name" = 'Groovy 2.0'
assert clever.name ==  'Groovy 2.0'

def anotherExpando = new Expando(one:1,two:2)

assert anotherExpando.one == 1
assert anotherExpando.two == 2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_numbers">Numbers</h4>
<div class="paragraph">
<p>Numbers types are ignored, in conversion we are working with javascript numbers. Math library is compatible with
javascript, and you can use it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">assert 0.1 + 0.2 == 0.3
assert 1.1 + 0.2 == 1.3
assert 0.1G + 0.2G == 0.3G
assert 4 * 5 + 45 % 4 == 21

assert 5 / 2 == 2.5
assert 5 % 2 == 1
assert 4 ** 3 == 64
assert -(-5) == 5
assert +(-5) == -5
assert Math.PI &gt; 3.14159
assert Math.PI &lt; 3.1416</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_categories_and_mixins">Categories and Mixins</h4>
<div class="paragraph">
<p>Categories are suported with annotation and with the ´use´ keyword. Support on categories and mixins is not
very great, you can expect good support in categories, but not in mixins cause deprecated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">final class Distance {
    def number
    String toString() { "${number}m" }
}

class NumberCategory {
    static Distance getMeters(Number self) {
        new Distance(number: self)
    }
}

use(NumberCategory) {
    def dist = 300.meters

    assert dist instanceof Distance
    assert dist.toString() == "300m"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_switch">Switch</h4>
<div class="paragraph">
<p>Groovy features are not supported, can&#8217;t assign variables inside, not comparing with lists, sets, classes,
regular expressions, &#8230;&#8203; Just a basic switch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def res

switch ([true,false]) {
    case {it[0]}: res = 0; break
    case {it[1]}: res = 1; break
    default : res = 2
}

assert res == 0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_closures">Closures</h4>
<div class="paragraph">
<p>Closures are converted to javascript functions. call, curry, rcurry, ncurry, memoize, leftShift are supported. If you
set delegate of a closure, it will be used. dehydrate and rehydrate are not supported. Support closures
as last argument in methods, and closure composition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def plus2 = { it + 2}
def times3 = { it * 3}

def times3plus2 = plus2 &lt;&lt; times3
assert times3plus2(3) == 11
assert times3plus2(4) == plus2(times3(4))

def plus2times3 = times3 &lt;&lt; plus2
assert plus2times3(3) == 15
assert plus2times3(5) == times3(plus2(5))

assert times3plus2(3) == (times3 &gt;&gt; plus2)(3)
//
void unless(boolean b, Closure c) {
    if (!b) c()
}

def (speed, limit) = [80, 90]
def tooFast = false

unless (speed &gt; limit) {
    tooFast = true
}

assert tooFast</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_groovybeans">GroovyBeans</h4>
<div class="paragraph">
<p>Support getter and setters as groovy does, named parameters in the default constructor</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class MyBean {
    def a
    def b

    def getA() { 5 }

    def getC() { 6 }
}

def myBean = new MyBean(a: 3, b: 4)
assert myBean.a == 5
assert myBean.@a == 3
assert myBean.b == 4
assert myBean.c == 6</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_metaprogramming">Metaprogramming</h4>
<div class="paragraph">
<p>Can add/modify properties and methods in execution time. Some problems with primitive types as Integer or String.
Can use getProperties() and getMethods() to get names. Can add properties/methods to classes.
Supporting getProperty, setProperty, methodMissing, propertyMissing.
Added invokeMethod but doesn&#8217;t intercept calls.
Just working on dynamic features needed, never a full groovy metaClass, metaInfo, &#8230;&#8203; support.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class Magic {
    def data = [:]
    void setProperty(String name, value) {
        data[name] = value
    }
    def getProperty(name) {
        data[name]
    }
}
Magic.metaClass.getAllData = { -&gt;
    data
}

def magic = new Magic()
magic.a = 5
magic.allData == [a: 5]

magic.metaClass.methodMissing = { String name, args -&gt;
    name
}

assert magic.Groovy() == 'Groovy'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ast_s">AST&#8217;s</h4>
<div class="paragraph">
<p>Support to @Mixin, @TailRecursive, @Builder, @Category and @Delegate. Annotations in semantic phase, will be applied and converted, is phase
where grooscript converts compiled code.</p>
</div>
</div>
<div class="sect3">
<h4 id="_traits">Traits</h4>
<div class="paragraph">
<p>Good support, in compile and runtime. Don&#8217;t support SAM coercion and super.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">interface Named {
    String name()
}
trait Greetable implements Named {
    String greeting() { "Hello, ${name()}!" }
}
class Person implements Greetable {
    String name() { 'Bob' }
}

def p = new Person()
assert p.greeting() == 'Hello, Bob!'
assert p instanceof Named
assert p instanceof Greetable</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_extensions">Module extensions</h4>
<div class="paragraph">
<p>Not supported.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_converted_code">Converted code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have converted code to javascript, you have to use in javascript environment. To run this converted
code you need <code>grooscript.js</code> or <code>grooscript.min.js</code> loaded. In Node.js load grooscript
<a href="https://www.npmjs.com/package/grooscript">npm</a> module, and in your web pages include the lib manually.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">&lt;script type="text/javascript" src="js/grooscript.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/yourConvertedFile.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, your groovy code is available. If you have converted a groovy script, in javascript the code will run. If
the code that you converted has dependencies from other files, you have to be sure that files are also converted
and are loaded. You have to convert any parent class, trait, category,&#8230;&#8203; but you don&#8217;t have to convert interfaces,
they are not used. For next versions of grooscript, we are working to use <a href="http://requirejs.org/">Require.js</a> for package
management.</p>
</div>
<div class="paragraph">
<p>If you convert a class and you want to use it in javascript, you are working with the 'static' form of the class.
To create instances of the class <strong>don&#8217;t</strong> use new, just call the function, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">//To create a class instance
var instance = MyClass();

//Using default constructor
var otherInstance = MyClass({ data: 1, name: 'name'});

//Call a method or access a property as usual
instance.method();
instance.methodTwo(otherInstance.name);</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you are using converted code in javascript, you don&#8217;t have 'dynamic' magic, as getters, setters, methodMissing,
getProperty,&#8230;&#8203; The resolution of method calling, access properties, context stuff,&#8230;&#8203; is done by functions in
<code>grooscript.js</code> lib. Just take a look at converted code, there are functions as <code>gs.mc</code> or <code>gs.gp</code> that do that work.
So if you are planning to use groovy magic, do in groovy and convert it, in javascript you can&#8217;t do.</p>
</div>
<div class="sect2">
<h3 id="_combine_both_worlds">Combine both worlds</h3>
<div class="paragraph">
<p>When you are creating groovy code, that will be converted to javascript and will use javascript libraries, maybe
you have to use any conversion between variables. For example, if you have a groovy map, or object, and you calling
a javascript library with a method that accepts a javascript map with the groovy object, that groovy object has more
things (methods, properties) that javascript expects. You don&#8217;t have to use that conversion if you work with strings,
numbers and usually arrays. You have two static function to do that conversions, that functions do nothing in groovy,
but in javascript will convert objects. Let&#8217;s see an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import static org.grooscript.GrooScript.toJavascript
import static org.grooscript.GrooScript.toGroovy

def map = [x: 1, y: 2]

//point is a javascript object that has a method init, that accepts an object
point.init(map) // [BAD] You are passing a groovy object to javascript, maybe can fail
point.init(toJavascript(map)) // [GOOD] You now are passing {x: 1, y: 2}

//point has a method info() that returns a javascript object with some data
def badData = point.info() // [BAD] You will have a 'javascript' object, and if you try use 'each', exception
def goodData = toGroovy(point.info()) // [GOOD] goodData will be a 'groovy' object</code></pre>
</div>
</div>
<div class="paragraph">
<p>In javascript, you have similar functions to do this conversions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">point.init(gs.toJavascript(map));
var goodData = gs.toGroovy(point.info());</code></pre>
</div>
</div>
<div class="paragraph">
<p>Apart from @GsNative, you can put javascript code directly when you want to, with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import static org.grooscript.GrooScript.nativeJs

nativeJs('console.log(this)')</code></pre>
</div>
</div>
<div class="paragraph">
<p>ToJavascript function only pass properties to the new javascript object. I have detected, that some frameworks
as React.js has methods that expect a javascript object that can contains functions. To solve this, I have created
a new function that converts a groovy map to a javascript object, including closure entries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import static org.grooscript.GrooScript.toJsObj

def map = [a: 1, double: { number -&gt; number * 2}]
toJsObj(map)

//It will create the following js object: {a: 1, double: function(number) { return number * 2 }}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_annotations">Annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Grooscript offer two annotations to add in your groovy code.</p>
</div>
<div class="sect2">
<h3 id="_gsnative">GsNative</h3>
<div class="paragraph">
<p>You can annotate groovy methods with @GsNative. The javascript code of that method will be the code inside comment,
between <code>/&#42;</code> and <code>&#42;/</code>, that fragment has to be after <code>{</code> method start. I use a lot this feature to insert
javascript code in the groovy code. So when I run the code in groovy nothing happens (tests pass), but the
javascript code runs in converted code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import org.grooscript.asts.GsNative

class Numbers {

    @GsNative
    def getFive() {/*
        $('something').andMoreJsCode();
        return 5;
    */}

    def getSix() {
        6
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a very useful feature, even you can put javascript code in a block comment and groovy code after.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@GsNative
def methodB(){/*
        gs.println('methodB');
        this.a++;
        this.methodA();*/
    println 'inMethodB'; a = a + 1; this.methodA()
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gsnotconvert">GsNotConvert</h3>
<div class="paragraph">
<p>You can annotate your classes and methods with @GsNotConvert and that code will not be converted to javascript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import org.grooscript.asts.GsNotConvert

@GsNotConvert
class ClassNotConvert {
    def a
}

class A {
    @GsNotConvert
    def methodNotConvert() {
        println 'No!'
    }

    def hello() {
        println 'Hello!'
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_helper_tools">Helper Tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Grooscript comes with some tools. This tools are some classes that you can use in your groovy code. If you convert
code that use this tools, you need the js code of that tools. Actually only <code>grooscript-html-builder.js</code> file. You
can find it inside the jar or you can <a href="downloads.html">download</a> it.</p>
</div>
<div class="paragraph">
<p>This tools are little helpers, with only a bit lines of code, don&#8217;t expect full libraries. I have introduced
this libraries because I think that are interesting in you javascript development. Progress in this tools
depends of people&#8217;s feedback.</p>
</div>
<div class="sect2">
<h3 id="_htmlbuilder">HtmlBuilder</h3>
<div class="paragraph">
<p>Groovy itself comes with more than one html builder, and from last versions of groovy there is a new
<a href="http://beta.groovy-lang.org/docs/groovy-2.3.7/html/documentation/markup-template-engine.html">template engine</a>.
Is a fast and modern engine, and my tool has some things from it.</p>
</div>
<div class="paragraph">
<p>I like this builders to create html code, using a dsl is a very powerful way to create pages or templates.
You can use variables or groovy code inside the builder to convert your templates into code. Let&#8217;s see an
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">yieldUnescaped '&lt;!DOCTYPE html&gt;'
html {
  head {
    title('Title of the page')
    link(rel: 'stylesheet', href: '/css/bootstrap.min.css')
  }
  body {
    div(class: 'container') {
      ul {
        //persons is a list of persons that is used to generate the final HTML
        persons.each { person -&gt;
          li {
            a(href:"/person/$person.id", "$person.lastName $person.firstName")
          }
        }
      }

      div {
        a(href:'/person/add', 'Add new person')
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use the builder just call the static method <code>build</code> to generate string html code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">package org.grooscript.builder

class HtmlBuilder {

    static String build(@DelegatesTo(HtmlBuilder) Closure closure)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The groovy code can be converted to javascript and will run if you add <code>grooscript-html-builder.js</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">given:
def result = HtmlBuilder.build {
    body {
        ul(class: 'list', id: 'mainList') {
            2.times { number -&gt;
                li number + 'Hello!'
            }
        }
    }
}

expect:
result == "&lt;body&gt;&lt;ul class='list' id='mainList'&gt;&lt;li&gt;0Hello!&lt;/li&gt;&lt;li&gt;1Hello!&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Available functions from groovy templates are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>yield</p>
</li>
<li>
<p>comment</p>
</li>
<li>
<p>yieldUnescaped</p>
</li>
<li>
<p>newLine</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tips">Tips</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Keep your groovy code tested, sometimes your converted code doesn&#8217;t work because groovy code fails.</p>
</li>
<li>
<p>Don&#8217;t use grooscript to create a big project, just introduce it in your projects.</p>
</li>
<li>
<p>If you use @GsNative, keep that code in isolated classes, that can be easy to mock them.</p>
</li>
<li>
<p>Don&#8217;t abuse @GsNative, is code untested. Better write it in javascript and keep that code tested.</p>
</li>
<li>
<p>Grooscript doesn&#8217;t support all groovy and java, use <a href="conversions.html">online</a> convert before use it, to check support.</p>
</li>
<li>
<p>You can activate <code>debug</code> console info in javascript with <code>gs.consoleInfo = true;</code>.</p>
</li>
<li>
<p>Remember import <code>grooscript-html-builder.js</code> if you use HtmlBuilder.</p>
</li>
<li>
<p>Use grooscript gradle plugin daemon task to do groovy changes, and see immediately in your browser.</p>
</li>
<li>
<p>You can test dom manipulation with <a href="http://jsoup.org/">jsoup</a>.</p>
</li>
<li>
<p>Try develop functional, don&#8217;t abuse this or variables from other contexts.</p>
</li>
<li>
<p>Curry functions to inject variables better than expect to be available after callbacks hell.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tools">Tools</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Grooscript itself is just a Java/Groovy library. We have created some tools to improve the experience using it, in your
<a href="http://gradle.org/">Gradle</a> projects, using it in <a href="http://grails.org/">Grails</a> 2 or 3, in <a href="http://nodejs.org/">Node.js</a> projects or
adding javascript lib dependencies with <a href="http://bower.io/">Bower</a>.</p>
</div>
<div class="sect2">
<h3 id="_gradle_plugin">Gradle plugin</h3>
<div class="paragraph">
<p>We are working to make good integration with gradle. See the getting started <a href="starting_gradle.html">guide</a> to start
working with grooscript. Later you will discover more advanced features, as convert groovy templates or tell your
server that some files have changed. Source on <a href="https://github.com/chiquitinxx/grooscript-gradle-plugin">github</a>. See in
gradle plugin <a href="http://plugins.gradle.org/plugin/org.grooscript.conversion">repository</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_grails_plugin">Grails plugin</h3>
<div class="paragraph">
<p>There is an available <a href="http://grails.org/plugin/grooscript">plugin</a> for grails 2.4 with nice features, like use your domain
classes in the client, websocket support or put groovy code in your gsp&#8217;s that will be run in javascript. Take a look
at the <a href="grails-plugin/index.html">documentation</a> for more info. Github <a href="https://github.com/chiquitinxx/grails-grooscript">source code</a>.</p>
</div>
<div class="paragraph">
<p>Also, it exists a Grails 3 plugin, you can take a look at <a href="http://grooscript.org/grails3-plugin/">documentation</a> or source code in <a href="https://github.com/chiquitinxx/grooscript-grails3-plugin">github</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_npm_package">Npm package</h3>
<div class="paragraph">
<p>If you have a Node.js project, and you want to use some converted code, you can use grooscript npm
<a href="https://www.npmjs.com/package/grooscript">package</a>, that will include <code>grooscript.js</code>, then your converted code will run.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">var gs = require('grooscript');

eval(fs.readFileSync('aConvertedFile.js')+'');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Little <a href="nodejs_example.html">guide</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_bower_package">Bower package</h3>
<div class="paragraph">
<p>You can add grooscript libs using <a href="http://bower.io/">Bower</a> with <code>&gt;bower install grooscript</code>, Then you can add grooscript.js,
grooscript.min.js or grooscript-html-builder.js dependencies in your project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">&lt;script src="bower_components/grooscript/src/main/resources/META-INF/resources/grooscript.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_require_js_modules">Require.js modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From version 1.1, you can generate <a href="http://requirejs.org/">Require.js</a> modules. Require.js is a javascript modules loader,
like a package manager in javascript. In javascript, there isn&#8217;t package manager, so if your project grows you have to
start to think in a solution to manage all javascript files and dependencies. I have chosen Require.js because is a
mature utility, used by a lot of projects and compatible with other frameworks like Node.js.</p>
</div>
<div class="sect2">
<h3 id="_start_with_one_javascript_file">Start with one javascript file</h3>
<div class="paragraph">
<p>To convert a groovy file to require.js modules, you have to set one groovy file and a destination path. If you set any
classpath for the conversions, that classpath will be used to find groovy files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">import org.grooscript.GrooScript

Map conversionOptions = [classpath: 'src/main/groovy']
GrooScript.convertRequireJs('src/main/groovy/Initial.groovy', 'jsModules', conversionOptions)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run this, a file <code><strong>jsModules/Initial.js</strong></code> will be generated. The source files has to be inside the classPath folder.</p>
</div>
<div class="paragraph">
<p>This conversion is clever, and if Initial.groovy use other source files, that files also will be converted to modules. A
file in <code><strong>src/main/groovy/util/Data.groovy</strong></code> will be converted to a require.js module in <code><strong>jsModules/util/Data.js</strong></code>. Also that
dependency will be added in <code><strong>Initial.js</strong></code> module.</p>
</div>
<div class="paragraph">
<p>Then, you don&#8217;t have to take care about all the files and dependencies, each time that you convert <code><strong>Initial.groovy</strong></code>, all
groovy files will be converted to modules, and all dependencies will be include in that modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="_add_javascript_dependencies">Add javascript dependencies</h3>
<div class="paragraph">
<p>If you want to include dependencies to other external require.js modules, you can use AST @RequireJsModule. For example,
in this class we are going to use data from a require.js module in <code><strong>lib/data.js</strong></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">package files

import org.grooscript.asts.RequireJsModule

class Require {
    @RequireJsModule(path = 'lib/data')
    def data
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The javascript result of this conversion is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">define(['lib/data'], function (data) {

  function Require() {
    //..
    gSobject.data = data;
    //..

    return gSobject;
  };

  return Require;
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In groovy you can use and test <code><strong>data</strong></code> field as a normal field.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_it">Using it</h3>
<div class="paragraph">
<p>You have all that javascript modules, now you can use in your require.js application. You have to be sure that
you include <code><strong>grooscript.js</strong></code> in your require.js dependencies. All require.js modules that you have generated are converted
groovy code that needs <code><strong>grooscript.js</strong></code> to run.</p>
</div>
<div class="paragraph">
<p>Some examples require.js initial file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">requirejs.config({
    baseUrl: 'jsModules',
    paths: {
        lib: 'js/lib'
    }
});

requirejs(['lib/grooscript.min'], function() {
    requirejs(['Initial']);
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-javascript" data-lang="javascript">requirejs.config({
    baseUrl: 'js/app',
    paths: {
        lib: '../lib',
        jquery: '../lib/jquery'
    },
    shim: {
        'bookDemo': ['lib/grooscript.min', 'lib/grooscript-html-builder']
    }
});

requirejs(['jquery', 'bookDemo']);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And that&#8217;s all, you don&#8217;t have to worry about more groovy files, just add javascript dependencies in your project.</p>
</div>
<div class="paragraph">
<p>For more info about this, can take a look at this <a href="https://github.com/chiquitinxx/grooscript/issues/38">github improvement</a>. Also
the books <a href="https://github.com/chiquitinxx/books-demo">demo</a> will be updated soon to use this feature.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The grooscript gradle plugin has task to generate require.js modules, and listen for changes to speed up your development
experience.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_links">More links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Cool <a href="https://github.com/chiquitinxx/grooscript-demos">demos</a></p>
</li>
<li>
<p>Chat <a href="chat_example.html">example</a></p>
</li>
<li>
<p>Ratpack <a href="ratpack-demo.html">demo</a></p>
</li>
<li>
<p>React <a href="react_example.html">example</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thank you for this amazing experience, a lot of fun, I learned a lot. With all the groovy community, groovy and
grails developers and all people interested in the project, this journey has been an incredible experience.
Is hard put names of people that helped me this years, sure I forget someone.</p>
</div>
<div class="paragraph">
<p>Special thanks to <strong>@glaforge</strong>, <strong>@marioggar</strong> and <strong>René</strong>, they
spent time at the beginning of this project. Also thanks to @burtbeckwith and @graemerocher for grails help, only
good things to say about all groovy and grails teams.</p>
</div>
<div class="paragraph">
<p>Thank you <a href="http://greachconf.com/">Greach</a> and <a href="http://gr8conf.eu/">Gr8Conf</a> teams for let me talk about grooscript in gr8 conferences.
All that people that sent me emails, commented me something, asked me about the project. Don&#8217;t stop it, I love your feedback.</p>
</div>
<div class="paragraph">
<p>Thank you @jetbrains for a IntelliJ IDEA open source license, the best groovy IDE.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://www.jetbrains.com/idea/docs/logo_intellij_idea.png" alt="Jetbrains">
</div>
</div>
<div class="paragraph">
<p>Finally thanks to last contributors in <a href="https://github.com/chiquitinxx/grooscript">github</a>.
First pull request by <strong>yellowsnow</strong>. Nice suggestions from <strong>pioneer</strong> pushing package support.
<strong>abelsromero</strong> has done amazing job improving build. <strong>alnavart</strong> giving feedback and nice suggestions.
We have nice stuff to do after 1.0 release.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-09-12 21:55:36 +02:00
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>